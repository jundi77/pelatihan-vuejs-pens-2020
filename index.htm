<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/bootstrap.min.css">
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="css/style.css">
<title>test</title>
</head>
<body>
	<div id="loading-page">
		<img id="loading-page-image" src="img/loading.gif" alt="Loading..." />
		<script>
			$(window).on('load', function () {
				$('#loading-page').hide();
			});
		</script>
	</div>
	<!-- layouting -->
	<!-- header -->
	<div id="app">
		<label for="sub-keyword">
			<h2>Pencarian untuk subtitle dari </h2>
			<label for="vid-link"><h2>video: </h2></label>
			<input type="text" name="vid-link" id="vid-link" v-model="vidLinkInput" @focus="setToVidLinkInput" @blur="resetToTitleOrURL">
			<button @click='clearAll'>bersihkan</button>
		</label>
		<label for="sub-keyword">Keyword</label>
		<input type="text" name="sub-keyword" id="sub-keyword" ref="subKeyword" v-model="subKeyword" @input="clearResult">
		<button @click='clearKeyword'>bersihkan</button>
		<button @click='searchSubAndVidDesc'>cari</button>
		<h2 v-if="foundList.length > 0">{{ (foundList[0].hasOwnProperty('total'))? foundList[0].total : 0}} kecocokan ditemukan untuk <span><label for="vid-link"></label>{{ (vidDesc != '')? 'video ' : 'link ' }}</span></h2>
		<div>
			<p v-if="subKeyword.length == 0">Menunggu inputmu...</p>
			<p v-else-if="vidLinkInput == ''">Link video belum diisi.</p>
			<p v-else-if="subKeyword.length < 3">Keyword minimal 3 huruf.</p>
			<p v-else-if="error == true">Terjadi kesalahan. <a href="#">Coba lagi?</a></p>
			<p v-else-if="foundListFlattened.length == 0 && foundList.length == 0">Loading...</p>
			<ul v-if="foundListFlattened.length > 0">
				<!-- v-if found -->
				<li
				v-for="(result, index_result) in foundListFlattened"
				:key="index_result"
				>{{ result.text }}</li>
			</ul>
			<p
			v-observe-visibility="loadingResultVisible" 
			v-if="loadingResult || 
			(foundList.length > 0 && 
			foundList[foundList.length-1].hasOwnProperty('data') && 
			foundList[foundList.length-1].data != null && 
			foundList[foundList.length-1].data.hasOwnProperty('next') && 
			foundList[foundList.length-1].data.next != null)"
			>Loading...</p>
			<!--Seen, sesuaikan warna di https://loading.io/--> 
		</div>
		<!-- v-else-if error not found -->
		<!-- go to top btn -->
		<!-- result -->

	</div>
	<script src="js/vue.js"></script>
	<script src="js/util.js"></script>
	<script src="js/main.js"></script>
</body>
</html>